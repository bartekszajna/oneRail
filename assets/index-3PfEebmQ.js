import{r as m,j as e,u as d,A as u,L as x}from"./index-Wq9lmydX.js";import{B as b,u as p,z as n,a as f,b as h,T as y}from"./zod-C_zB2a-s.js";import{c as i}from"./createLucideIcon-JPqlrOpP.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],j=i("eye-off",g);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N=i("eye",S),k=({error:a,...o})=>{const[s,t]=m.useState(!1);return e.jsx(b,{error:a,...o,type:s?"text":"password",suffix:e.jsx("button",{className:"outline-none focus:text-amber-500 size-4 sm:size-6",type:"button",onClick:()=>t(!s),children:s?e.jsx(j,{className:"size-full"}):e.jsx(N,{className:"size-full"})})})};function v({name:a,control:o,...s}){const{field:t,fieldState:r}=p({name:a,control:o});return e.jsx(k,{...t,...s,error:r.error?.message})}const w=n.object({email:n.email(),password:n.string().min(1,{message:"Field cannot be empty"})}),z=()=>{const{handleSubmit:a,setError:o,control:s,formState:{errors:t,isSubmitting:r}}=f({defaultValues:{email:"",password:""},resolver:h(w)}),l=d();return{handleSubmit:a,submitHandler:async c=>{(await fetch(u+"/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok||o("root",{message:"You could not be authorized"}),l("/products")},control:s,isSubmitting:r,errors:t}},F=()=>{const{handleSubmit:a,submitHandler:o,control:s,isSubmitting:t,errors:r}=z();return e.jsxs("main",{className:"min-h-screen flex flex-col gap-7 justify-center items-center",children:[e.jsx("h1",{className:"mb-6",children:"oneRail e-commerce"}),e.jsxs("form",{className:"bg-[var(--dark-bg)] backdrop-blur-xs flex flex-col gap-8 px-8 py-8 sm:px-12 mx-8 rounded-2xl shadow-xl items-center",onSubmit:a(o),children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Sign in"}),e.jsx(y,{label:"E-mail",name:"email",control:s}),e.jsx(v,{label:"Password",name:"password",control:s}),e.jsx("button",{type:"submit",disabled:t,className:"px-8 py-2 sm:px-12 sm:py-3 rounded-full bg-gray-300 text-gray-900 font-bold hover:cursor-pointer outline-none focus:bg-amber-500 hover:bg-amber-500 hover:text-gray-100 disabled:opacity-50 disabled:pointer-events-none transition-all active:scale-95",children:t?"Submitting...":"Submit"}),e.jsx(x,{to:"/products",children:"GO TO PRODUCTS"}),r.root&&e.jsx("span",{className:"text-red-600 font-semibold text-sm",children:r.root.message})]})]})};export{F as default};
