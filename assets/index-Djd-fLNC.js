import{u,a as x,s as b,b as g,c as h,j as e,L as f}from"./index-DAiz0CAH.js";import{z as i,u as j,a as p,F as S,T as F}from"./zod-of8WfUDN.js";import"./select-input-D1r--hoW.js";import{P as v,T as N}from"./password-field-DzKbRLbc.js";import"./createLucideIcon-Cg4CVqgd.js";const w=i.object({email:i.email(),password:i.string().min(1,{message:"Field cannot be empty"})}),L=()=>{const{handleSubmit:a,setError:o,control:s,formState:{errors:n,isSubmitting:t}}=j({defaultValues:{email:"",password:""},resolver:p(w)}),l=u(),r=x(),c=r.state==="loading"||r.state==="submitting"||t;return{handleSubmit:a,submitHandler:async d=>{try{const m=await b(d);g(m.access_token),h(m.refresh_token),l("/products")}catch{o("root",{message:"You could not be authorized"})}},control:s,isSubmitting:c,errors:n}},T=()=>{const{handleSubmit:a,submitHandler:o,control:s,isSubmitting:n,errors:t}=L();return e.jsxs(S,{onSubmit:a(o),isSubmitting:n,children:[e.jsx(F,{label:"E-mail",name:"email",control:s}),e.jsx(v,{label:"Password",name:"password",control:s}),t.root&&e.jsx("span",{className:"text-red-600 font-semibold text-sm",children:t.root.message})]})},R=()=>e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx(N,{className:"size-12 text-amber-500 mb-2"}),e.jsx("h1",{className:"text-4xl font-bold text-center mb-14",children:"oneRail e-commerce"}),e.jsx("h2",{className:"text-2xl font-semibold text-center mb-8",children:"Sign in"}),e.jsx(T,{}),e.jsxs("div",{className:"mt-6 text-base flex flex-col items-center",children:[e.jsx("p",{children:"Do not have an account yet?"}),e.jsx(f,{to:"/signup",className:"font-semibold hover:text-amber-500",children:"Sign up"})]})]});export{R as default};
