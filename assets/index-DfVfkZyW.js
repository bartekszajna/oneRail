import{u,a as x,s as b,b as g,c as h,j as e,L as p}from"./index-BIWb99zH.js";import{z as i,u as f,a as j,F as S,T as F}from"./zod-CGfnChNc.js";import{P as N,T as v}from"./password-field-BaxylB7l.js";import"./createLucideIcon-C9YSeJfB.js";const w=i.object({email:i.email(),password:i.string().min(1,{message:"Field cannot be empty"})}),L=()=>{const{handleSubmit:a,setError:o,control:s,formState:{errors:n,isSubmitting:t}}=f({defaultValues:{email:"",password:""},resolver:j(w)}),c=u(),r=x(),l=r.state==="loading"||r.state==="submitting"||t;return{handleSubmit:a,submitHandler:async d=>{try{const m=await b(d);g(m.access_token),h(m.refresh_token),c("/products")}catch{o("root",{message:"You could not be authorized"})}},control:s,isSubmitting:l,errors:n}},T=()=>{const{handleSubmit:a,submitHandler:o,control:s,isSubmitting:n,errors:t}=L();return e.jsxs(S,{onSubmit:a(o),isSubmitting:n,children:[e.jsx(F,{label:"E-mail",name:"email",control:s}),e.jsx(N,{label:"Password",name:"password",control:s}),t.root&&e.jsx("span",{className:"text-red-600 font-semibold text-sm",children:t.root.message})]})},P=()=>e.jsxs("main",{className:"min-h-screen flex flex-col gap-2 justify-center items-center",children:[e.jsx(v,{className:"size-12 text-amber-500"}),e.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"oneRail e-commerce"}),e.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Sign in"}),e.jsx(T,{}),e.jsxs("p",{className:"mt-4 text-base",children:["Do not have an account yet?"," ",e.jsx(p,{to:"/signup",className:"font-semibold hover:text-amber-500",children:"Sign up"})]})]});export{P as default};
